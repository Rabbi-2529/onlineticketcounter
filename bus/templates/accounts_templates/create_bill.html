{% extends 'accounts_templates/accounts_base.html' %}
{% load static %}

{% block custom_css %}
<link rel="stylesheet" href="{% static "dist/css/add_product.css" %}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr@4.6.9/dist/flatpickr.min.css">
<style>
    /* Custom status colors */
    .custom-status-pending {
        color: orange; /* Adjust the color as needed */
    }

    .custom-status-received {
        color: green; /* Adjust the color as needed */
    }

    .custom-status-completed {
        color: blue; /* Adjust the color as needed */
    }

    .custom-status-canceled {
        color: red; /* Adjust the color as needed */
    }
    .make-payment-link,
    .view-payment-link{
        color: black !important;
    }
    .delete-purchase {
        color: black !important;
    }
    .btn-btn-light {
        border-color: black;
    }
    .btn-btn-light {
        border-color: black;
        color: black; /* Set the default text color */
        transition: border-color 0.4s, color 0.4s; /* Add a smooth transition for the color change */
    }

    .btn-btn-light:hover {
        border-color: blue;
        color: blue; /* Change the text color to blue on hover */
    }
    .text-black .dropdown-item {
        color: black !important;
    }
    .text-black .dropdown-item:hover {
        box-shadow: 3px 3px 5px rgba(0, 0, 0, 0.3); /* Add a black shadow on hover */
    }
    .text-black .clicked {
        color: black;
    }
    .text-black {
        color: black !important;
    }
    .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 1050;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
    }
    /* CSS */
    .custom-btn {
        background-color: #EA4C89 !important;
        border-radius: 8px;
        border-style: none;
        box-sizing: border-box;
        color: #FFFFFF !important;
        cursor: pointer;
        display: inline-block;
        font-family: "Haas Grot Text R Web", "Helvetica Neue", Helvetica, Arial, sans-serif;
        font-size: 14px;
        font-weight: 500;
        height: 40px;
        line-height: 20px;
        list-style: none;
        margin: 0;
        outline: none;
        padding: 10px 16px;
        position: relative;
        text-align: center;
        text-decoration: none;
        transition: color 100ms;
        vertical-align: baseline;
        user-select: none;
        -webkit-user-select: none;
        touch-action: manipulation;
    }
    .custom-btn:hover,
    .custom-btn:focus {
        background-color: #F082AC !important;
    }

    /* Style the header cells */
    table.expense-table thead th {
        font-size: 13px;
        font-weight: 400;
        color: #20c997;
    }
    /* Add some spacing to the li elements inside the modal */
    ul li {
        margin-bottom: 23px
    }
    
    /* Style the text inside the modal */
    .modal-body {
        font-size: 16px; /* Change the font size */
        font-family: Arial, sans-serif; /* Change the font family */
        line-height: 1.6; /* Adjust the line height */
    }
    
    /* Style the text inside the list items */
    .modal-body ul li {
        font-size: 13px; /* Change the font size for list items */
    }
    .modal-logo {
        width: 238px;
        height: 67px;
        margin-top: 11px;
        margin-left: 233px;
    } /* Add some margin between the logo and close button */
    
    
    .close {
        position: absolute;
        right: 10px;
        top: 10px;
        z-index: 1;
        font-size: 20px; /* Adjust the font size as needed */
        color: #ff0000; /* Change the color to your preferred color */
        cursor: pointer; /* Add a pointer cursor to indicate it's clickable */
        transition: color 0.3s; /* Add a smooth color transition on hover */
    
        /* Add a little padding to make it more clickable */
        padding: 5px;
    }
    
    .close:hover {
        color: #ff5555; /* Change the color on hover */
    }
</style>
{% endblock custom_css %}

{% block main_content %}
  <h2>Create a New Bill</h2>
  <form method="post">
    {% csrf_token %}
    <label for="staff_id">Select Staff:</label>
    <select name="staff_id" id="staff_id">
        {% for staff in staffs %}
            <option value="{{ staff.id }}">{{ staff.name }}</option>
        {% endfor %}
    </select>
    <p>Staff ID: {{ staff.id }}</p>
    <label for="start_date">Start Date:</label>
    <input type="date" name="start_date" id="start_date">

    <label for="end_date">End Date:</label>
    <input type="date" name="end_date" id="end_date">

    <button type="submit">View Ticket Details</button>
</form>

<h2>Results</h2>
{% if total_tickets %}
    <p>Total Tickets: {{ total_tickets }}</p>

    <h3>Cancellation Details</h3>
    <table>
        <thead>
            <tr>
                <th>Order Number</th>
                <th>Cancel Date</th>
           
            </tr>
        </thead>
        <tbody>
            {% for cancellation_detail in cancellation_details %}
                <tr>
                    <td>{{ cancellation_detail.order_number }}</td>
                    <td>{{ cancellation_detail.cancel_date }}</td>
             
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <p>No ticket details found for the selected staff and date range.</p>
{% endif %}
{% endblock main_content %}
