{% extends 'base.html' %}
{% load static %}
{% block custom_css %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/brands.min.css" integrity="sha512-9YHSK59/rjvhtDcY/b+4rdnl0V4LPDWdkKceBl8ZLF5TB6745ml1AfluEU6dFWqwDw9lPvnauxFgpKvJqp7jiQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/fontawesome.min.css" integrity="sha512-SgaqKKxJDQ/tAUAAXzvxZz33rmn7leYDYfBP+YoMRSENhf3zJyx3SBASt/OfeQwBHA1nxMis7mM3EV/oYT6Fdw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    <link rel="stylesheet" href={% static "css/my_ticket_details.css"%}>
    {% comment %} <link rel="stylesheet" href={% static "css/sajal.css"%}> {% endcomment %}
{% endblock custom_css %}

{% block page_title %}<title>Payment Gateway</title>{% endblock page_title %}
{% block content %}
    <section class="relative about-banner">
        <div class="overlay overlay-bg"></div>
    
        <div class="container">				
            <div class="row d-flex align-items-center justify-content-center">
            
                <div class="about-content col-lg-12">
                    <br><br>  <br><br>
                    <h1 class="text-white">Bus Choice</h1>	
                    <p class="text-white link-nav">{{route_part.start_point}} </a>  <span class="lnr lnr-arrow-right"></span>  {{route_part.end_point}}</a></p>
                    <h4 class="text-white link-nav">{{journey_date}}</h4>
                </div>	
            </div>
        </div>
    </section>
    {% include 'payment_form.html' %}
    <div class="container-xl px-4 mt-4">
        <div class="container-fluid">
            <div class="row justify-content-center">
                <div class="col-md-12 px-0">    
                    <div class="card card-primary mb-4">
                      
                    
                        
                            <div class="trip-info">
                                <div class="row">
                                    <div class="inner-card-header d-flex justify-content-center col-12 mb-4 mt-3">
                                        <h4>{{ start_point }} to {{ end_point }}</h4>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="ticket-info mb-3">
                                        <div class="col-12 d-flex justify-content-center">
                                            <h4 class="mb-2"><span class="span-heading">Journey Date</span></h4>
                                        </div>
                                        <div class="col-12 d-flex justify-content-center">
                                            <p class="mb-0"><span class="span-text">{{ journey_date }}</span></p>
                                        </div>
                                        <div class="col-12 d-flex justify-content-center">
                                            <p class="mb-0"><span class="span-text">Sunday</span></p>
                                        </div>
                                    </div>

                                    <div class="ticket-info mb-3">
                                        <div class="col-12 d-flex justify-content-center">
                                            <p class="mb-2"><span class="span-heading">Counter</span></p>
                                        </div>
                                        <div class="col-12 d-flex justify-content-center">
                                            <p class="mb-0"><span class="span-text">Arambagh Counter</span></p>
                                        </div>
                                    </div>

                                    <div class="ticket-info mb-3">
                                        <div class="col-12 d-flex justify-content-center">
                                            <p class="mb-2"><span class="span-heading">Departure Time</span></p>
                                        </div>
                                        <div class="col-12 d-flex justify-content-center">
                                            <p class="mb-0"><span class="span-text">{{ departure_time }}</span></p>
                                        </div>
                                    </div>

                                    <div class="ticket-info mb-3">
                                        <div class="col-12 d-flex justify-content-center">
                                            <p class="mb-2"><span class="span-heading">Seat #</span></p>
                                        </div>
                                        <div class="col-12 d-flex justify-content-center">
                                            <p class="mb-0"><span class="span-text">{{ seat_number }}</span></p>
                                        </div>
                                    </div>

                                    <div class="ticket-info mb-3">
                                        <div class="col-12 d-flex justify-content-center">
                                            <p class="mb-2"><span class="span-heading">Total Fare</span></p>
                                        </div>
                                        <div class="col-12 d-flex justify-content-center">
                                            <p class="mb-0"><span class="span-text">{{ seat_fare }}</span></p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="ticket-details mt-2 p-2">
                                <div class="row justify-content-center">
                                    <div class="row">
                                        <div class="ticket-details-heading d-flex col-12 p-4 justify-content-between">
                                            <span class="ticket-details-heading-text">Booking Details</span>
                                            <span class="ticket-details-heading-text">Staus: Booked</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="px-lg-4 px-1">
                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-12 ticket-full-details">
                                            <div class="row justify-content-between mb-1">
                                                <div class="col-6">
                                                    <span>Ticket No.</span>
                                                </div>
                                                <div class="col-6 text-right pe-lg-4">
                                                    <span>{{ booking.id }}</span>
                                                </div>
                                            </div>
                                            <div class="row justify-content-between mb-1">
                                                <div class="col-6">
                                                    <span>Route</span>
                                                </div>
                                                <div class="col-6 text-right pe-lg-4">
                                                    <span>{{ start_point }} to {{ end_point }}</span>
                                                </div>
                                            </div>
                                            <div class="row justify-content-between mb-1">
                                                <div class="col-6">
                                                    <span>Coach No.</span>
                                                </div>
                                                <div class="col-6 text-right pe-lg-4">
                                                    <span>{{ coach_number }}</span>
                                                </div>
                                            </div>
                                            <div class="row justify-content-between mb-1">
                                                <div class="col-6">
                                                    <span>Expire Time</span>
                                                </div>
                                                <div class="col-6 text-right pe-lg-4">
                                                    <span>Aug-12-2023</span>
                                                </div>
                                            </div>
                                            <div class="row justify-content-between mb-1">
                                                <div class="col-6">
                                                    <span>Journey Date</span>
                                                </div>
                                                <div class="col-6 text-right pe-lg-4">
                                                    <span>{{ journey_date }}</span>
                                                </div>
                                            </div>
                                            <div class="row justify-content-between mb-1">
                                                <div class="col-6">
                                                    <span>Boarding Time</span>
                                                </div>
                                                <div class="col-6 text-right pe-lg-4">
                                                    <span>11:30 AM</span>
                                                </div>
                                            </div>
                                            <div class="row justify-content-between mb-1">
                                                <div class="col-6">
                                                    <span>Boarding Point</span>
                                                </div>
                                                <div class="col-6 text-right pe-lg-4">
                                                    <span>Counter name</span>
                                                </div>
                                            </div>
                                            <div class="row justify-content-between mb-1">
                                                <div class="col-6">
                                                    <span>Seat #</span>
                                                </div>
                                                <div class="col-6 text-right pe-lg-4">
                                                    <span>{{ seat_number }}</span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-lg-6 col-md-6 col-12 passenger-full-details ps-4">
                                            <div class="row justify-content-between mb-1">
                                                <div class="col-6">
                                                    <span>Passenger Name</span>
                                                </div>
                                                <div class="col-6 text-right pe-lg-4">
                                                    <span>{{ user_name }}</span>
                                                </div>
                                            </div>
                                            <div class="row justify-content-between mb-1">
                                                <div class="col-6">
                                                    <span>Phone</span>
                                                </div>
                                                <div class="col-6 text-right pe-lg-4">
                                                    <span>{{ phone_number }}</span>
                                                </div>
                                            </div>
                                            <div class="row justify-content-between mb-1">
                                                <div class="col-6">
                                                    <span>Seat Fare</span>
                                                </div>
                                                <div class="col-6 text-right pe-lg-4">
                                                    <span>BDT {{ seat_fare }}</span>
                                                </div>
                                            </div>
                                            <div class="row justify-content-between mb-1">
                                                <div class="col-6">
                                                    <span>Discount</span>
                                                </div>
                                                <div class="col-6 text-right pe-lg-4">
                                                    <span>BDT 120.00</span>
                                                </div>
                                            </div>
                                            <div class="row justify-content-between mb-1">
                                                <div class="col-6">
                                                    <span>Service Charge</span>
                                                </div>
                                                <div class="col-6 text-right pe-lg-4">
                                                    <span>BDT 60.00</span>
                                                </div>
                                            </div>
                                            <div class="row justify-content-between mb-1">
                                                <div class="col-6">
                                                    <span>Total Fare</span>
                                                </div>
                                                <div class="col-6 text-right pe-lg-4">
                                                    <span>BDT {{ seat_fare }}</span>
                                                </div>
                                            </div>
                                            <hr>
                                            <div class="row justify-content-between mb-1 total-amount">
                                                <div class="col-6">
                                                    <span class="total-amount">Total Payable Amount</span>
                                                </div>
                                                <div class="col-6 text-right pe-lg-4">
                                                    <span class="total-amount">BDT {{ seat_fare }}</span>
                                                </div>

                                                <div class="col-12">
                                                    {% if status == "Booked" %}
                                                        <div class="row justify-content-center mt-4 ">
                                                            <button type="button" class="btn btn-primary w-auto" data-toggle="modal" data-target="#paymentModal" style="padding: 5px 10px !important; font-size: 12px !important;">
                                                                Pay Now
                                                            </button>
                                                        </div>
                                                    {% endif %}
                                                </div>
                                            </div>
                                           
                                                       
                                                      </form>
                                                    </div>
                                                 
                                                  </div>
                                                </div>
                                              </div>
                                            
                                        </div>
                                    </div>
                                  
                                </div>
                            </div>
                        </div>
                    </div>  
                </div>
                
            </div>
        </div>
    </div>
{% endblock content %}


{% block js %}
<script>
    // Get a reference to the button and the payment modal
    var payNowButton = document.querySelector('#payNowButton');
    var paymentModal = new bootstrap.Modal(document.getElementById('paymentModal'));

    // Add a click event listener to the "Pay Now" button
    payNowButton.addEventListener('click', function () {
        // Open the payment modal when the button is clicked
        paymentModal.show();
    });
</script>
{% endblock js %}

